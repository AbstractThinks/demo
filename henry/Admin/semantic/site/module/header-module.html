<dom-module id="header-module">
    <style media="screen">
      .header-module a.item:first-child {
        margin-left: 10%;
      }
    </style>
    <template>
        <!-- <div class="ui secondary pointing menu"> -->
        <a class="item" href="../index/index.html" type="0">
          首页
        </a>
        <a class="item" href="../common/common.html?resourceTypeId=1&subjectId=&gradeId=&page=1" type="1">
          教学试卷
        </a>
        <a class="item" href="../common/common.html?resourceTypeId=2&subjectId=&gradeId=&page=1" type="2">
          教学课件
        </a>
        <a class="item" href="../common/common.html?resourceTypeId=3&subjectId=&gradeId=&page=1" type="3">
          教学视频
        </a>

        <a class="item" href="../common/common.html?resourceTypeId=4&subjectId=&gradeId=&page=1"  type="4">
          教学资料
        </a>
        <a class="item" href="../staff/staff.html">
          职工管理
        </a>
        <a class="item" href="../examine/examine.html">
          资料审核
        </a>
        <a class="item" href="../asset/index.html">
          资产管理
        </a>
        <div class="right menu">
            <a class="ui item user-header" href="../person/person.html">
                <img src="../../img/header.png" class="ui avatar image" ／>
            </a>
        </div>
      <!-- </div> -->
    </template>

  <script type="text/javascript">
          Polymer({
                  is : "header-module",
                  properties: {
                      label: String,
                      url: String
                  },
                  ready: function () {
                      var that = this;
                      $.ajax({
                              url:"http://k12.iyunbei.com/api/profile",
                              type: 'get',
                              success: function (data) {
                                  if (data.error) {

                                  } else {
                                      console.log(data);
                                    that.personInfo = data;
                                    $('.user-header').popup({
                                        title   : data.nickname,
                                        content : data.schoolName,
                                        position   : 'bottom right',
                                        offset: -10
                                    })
                                  }
                              },
                              error: function (e) {
                                      console.log(e)
                              }
                      });
                      $('.header-module .user-header').popup();
                  }
          });
  </script>
</dom-module>
