<dom-module id="person-module">
  <template >
      <div class="ui grid">
          <div class="four wide column">
              <div class="ui vertical fluid attached  tabular menu my-tab">
                  <a class="active item" data-tab="info">
                  个人信息
                  </a>
                  <a class="item" data-tab="vedio">
                  我的视频
                  </a>
                  <a class="item" data-tab="collections">
                  我的搜藏
                  </a>
                  <a class="item" data-tab="update">
                  上传文件
                  </a>
              </div>
          </div>
          <div class="twelve wide stretched column">
              <my-tab-info class="ui attached active tab segment" data-tab="info">
                  <a class="ui teal right ribbon label">我的信息</a>
              </my-tab-info>
              <my-tab-common-list class="ui attached tab segment" data-tab="vedio" userId page="1" pagesize="50">
                  <a class="ui teal right ribbon label">我的资源</a>
              </my-tab-common-list>
              <my-tab-common-list class="ui attached tab segment" data-tab="collections" page="1" pagesize="50">
                  <a class="ui teal right ribbon label">我的收藏</a>
              </my-tab-common-list>
              <my-tab-update class="ui attached tab segment" data-tab="update">
                  <a class="ui teal right ribbon label">上传文件</a>
              </my-tab-update>
          </div>
      </div>
  </template>
  <script type="text/javascript">
      Polymer({
              is : "person-module",
              ready : function () {
                  $.ajax({
                          url:'http://k12.iyunbei.com/api/profile',
                          type: 'get',
                          success: function (data) {
                                  if (data.error) {

                                  } else {
                                      $('my-tab-info').get(0).setAttribute("userid", data.id);
                                      $('my-tab-common-list').get(0).setAttribute("userid", data.id);
                                      $('my-tab-update').get(0).setAttribute("userid", data.id);
                                      $('body').attr("id", data.id);
                                  }
                          },
                          error: function (e) {
                                  console.log(e)
                          }
                  });
                  $('.ui.dropdown').dropdown();
                  $('.menu.my-tab .item').tab({
                          transition:"fade"
                  });
              }
      });
  </script>
</dom-module>
